# Bigger

This is a crystal native implementation of an arbitrary arithmetic math library. This library aims to provide
the same methods and interface that crystal's own `big` library provides.

## FAQ

*Is this faster than `big`?*

Nope.

*Is it more memory efficient?*

Still no.

*Is it written in Crystal?*

_Yes_.

*Can it be made more efficient?*

Absolutely. All operations were implemented using a naive algorithm. There's lots of room for improvement.

*Is it actually bigger?*

No. But it could be! Maybe! Being written in crystal means it can be modified as needed to support different use cases.

## Features

[x] Big Int
[] Big Float
[] Big Decimal
[] Big Rational

## Performance

Running with an intel i7-8565U 1.80GHz CPU. Benchmark run with numbers:

```crystal
a = "418376253051223933501534965978459129894917720729884038908657101374047974"
b = "56628806604608093150302361055407918781958950380522727726457202444371318"
```

|                     | Operations | Average Op Time | Slower           |
| ------------------- | ---------- | --------------- | ---------------- |
| Bigger +            | 11.73M     | 85.28ns         | 2.85× slower     |
|    Big +            | 33.40M     | 29.94ns         | fastest          |
| Bigger -            | 5.33M      | 187.46ns        | 5.61× slower     |
|    Big -            | 29.92M     | 33.42ns         | fastest          |
| Bigger (a // b)     | 2.67k      | 373.87µs        | 7990.10× slower  |
|    Big (a // b)     | 8.28M      | 120.80ns        | 2.58× slower     |
| Bigger (b // a)     | 8.69M      | 115.04ns        | 2.46× slower     |
|    Big (b // a)     | 21.37M     | 46.79ns         | fastest          |
| Bigger (a % b)      | 2.90k      | 345.40µs        | 7437.07× slower  |
|    Big (a % b)      | 8.40M      | 119.11ns        | 2.56× slower     |
| Bigger (b % a)      | 9.24M      | 108.26ns        | 2.33× slower     |
|    Big (b % a)      | 21.53M     | 46.44ns         | fastest          |
| Bigger *            | 714.96k    | 1.40µs          | 29.19× slower    |
|    Big *            | 20.87M     | 47.92ns         | fastest          |
| Bigger tdiv         | 1.40k      | 713.13µs        | 11329.47× slower |
|    Big tdiv         | 15.89M     | 62.94ns         | fastest          |
| Bigger remainder    | 1.40k      | 714.39µs        | 6326.17× slower  |
|    Big remainder    | 8.86M      | 112.93ns        | fastest          |
| Bigger unary ~      | 5.75M      | 173.98ns        | 6.65× slower     |
|    Big unary ~      | 38.23M     | 26.15ns         | fastest          |
| Bigger unary !      | 659.51M    | 1.52ns          | fastest          |
|    Big unary !      | 658.07M    | 1.52ns          | 1.00× slower     |
| Bigger unary **(40) | 4.00k      | 250.00µs        | 88.84× slower    |
|    Big unary **(40) | 355.36k    | 2.81µs          | fastest          |
| Bigger unary <<(40) | 5.81M      | 172.11ns        | 5.84× slower     |
|    Big unary <<(40) | 33.95M     | 29.45ns         | fastest          |
| Bigger unary >>(40) | 7.99M      | 125.19ns        | 3.86× slower     |
|    Big unary >>(40) | 30.85M     | 32.41ns         | fastest          |

This table was generated by running `make benchmark`.

## Installation

1. Add the dependency to your `shard.yml`:

   ```yaml
   dependencies:
     bigger:
       github: vici37/bigger
   ```

2. Run `shards install`

## Usage

```crystal
require "bigger"

a = "418376253051223933501534965978459129894917720729884038908657101374047974".to_bigger_i
b = "56628806604608093150302361055407918781958950380522727726457202444371318".to_bigger_i

a + b
```


## Development

Specs are the lifeblood of any library's success. When making changes, make sure to run the specs
frequently. For convenience, you can use:

```
> make test
> make test-prod
```

The first one runs all of the specs using a base of `UInt8`, while the latter runs specs using with a base of `UInt32`.
Running with bases of `UInt8` tends to make things easier to debug as it's easier to test around the digit overflow points.

## Contributing

1. Fork it (<https://github.com/vici37/bigger-num/fork>)
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. Push to the branch (`git push origin my-new-feature`)
5. Create a new Pull Request

## Contributors

- [Troy Sornson](https://github.com/vici37) - creator and maintainer
